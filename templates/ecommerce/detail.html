{% extends 'base/base_adminlte.html' %}
{% block title %}Art Ic Tech | Productos{%endblock %} 
{% load static %} 
{% block extra_head %}
<script src="{% static 'js/ecommerce/cotizaciones.js' %}"></script>
<style>
    body {
      background-color: #eee;
    }
    .main-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    .product_detail {
        text-align: center;
        display: flex;
        flex-direction: row;
        justify-content:space-evenly;
    }

    .main-img img {
        border-radius: 20px;
        border: 1px solid #A3BAD2;
        width: 200px;
    }
    .article_info {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
    }
    .buttonCotizar:hover i {
        color: rgb(174, 174, 174);
    }
    .product_info {
        margin-left: 15px;
    }
    
    @media screen and (max-width: 560px) {
        .product_detail {
            flex-direction: column;
            justify-content:space-evenly;
        }
        .product_info {
        margin-left: 0px;
    }
     }
    .licences-container {
        display: flex;
        flex-direction: row;
    }
    .fixed-info {
    position: sticky;
    top: 100px; /* Ajusta el valor según sea necesario */
    background-color: white; /* Opcional para diferenciarlo del fondo */
    padding: 10px; /* Opcional */
    margin-left: auto;
    height: 400px;
}
    @media screen and (max-width: 992px) {
            .fixed-info {
                display: none;
            }
            .left-zero-content {
                display: none;
            }
            .licence-info {
                width: 90%;
            }
            
}








  </style>

  <script>
    function buttonCar(titulo) {
        Swal.fire({
        text: `¿Por qué medio le gustaría cotizar ${titulo}?`,
        icon: "success",
        showCancelButton: true,
        confirmButtonText: 'WhatsApp',
        cancelButtonText: 'Email',
        reverseButtons: true,
    }).then((result) => {
        if (result.isConfirmed) {
            // Llama a la función para WhatsApp
            cotizarPorWhatsApp(titulo);
        } else if (result.dismiss === Swal.DismissReason.cancel) {
            // Llama a la función para Email
            cotizarPorEmail(titulo);
        }
    });
    }
    // Define las funciones para cada opción
        function cotizarPorWhatsApp(titulo) {
            cotizar_whatsaap(titulo)
        }

        function cotizarPorEmail(titulo) {
            cotizar_email(titulo)
        }
  </script>
{% endblock %}

{% block content %}
  <div class="container mt-5 main-container">
    <div class="product_detail">
        <div class="main-img">
            <img src="{{producto.imagen_izquierda.url}}" alt="Category" />
        </div>
        <div class="product_info">
            <h3 class="mt-3">
                {{producto.nombre}}
            </h3>
            <p style="margin-top: auto;" class="text-muted">Solo por {% if producto.en_oferta == True %} <s>${{producto.precio}}</s> <strong style="color: green;">${{producto.precio_oferta}}</strong> {% else %} ${{producto.precio}}{% endif %}</p>
            <button onclick="buttonCar( `{{producto.nombre}} `)" type="button" class="btn btn-outline-danger buttonCotizar" style="width: 200px;">
                Cotizar ahora <i class="fa fa-shopping-cart"></i>
            </button>
        </div>
    </div>
    <div class="licences-container container-fluid">
        <div class="col-lg-1 col-md-0 left-zero-content"></div>
        <div class="licence-info col-lg-9 col-md-9 col-sm-12">
            {% for descripcion in descripciones %}
            <div class="col-12 article_info mt-5">
                <button onclick="buttonCar( `{{descripcion.titulo}} `)" style="float: right; background-color: white; border-radius: 5px; width: 45px;">
                    <i class="fa fa-shopping-cart" style="color: red;"></i>
                </button>
                {% if descripcion.precio %}
                    <strong class="mr-1" style="float: right;">{{descripcion.precio}} $</strong>
                {% endif %}
                <h5 style="font-weight: bold;">{{descripcion.titulo}}</h5>
                {{ descripcion.descripcion|safe }}
            </div>
            {% endfor %}
        </div>
        <!--- INFO FIXED CARD  --->
        <div class="fixed-info col-lg-2 col-md-3 col-sm-0">
            <div class="column">
                <div class="pricing-card basic">
                  <div class="pricing-header">
                    <span class="plan-title">BASIC PLAN</span>
                    <div class="price-circle">
                      <span class="price-title">
                        <small>$</small><span>6.95</span>
                      </span>
                      <span class="info">/ Month</span>
                    </div>
                  </div>
                  <div class="badge-box">
                    <span>Save 35%</span>
                  </div>
                  <ul>
                    <li>
                      <strong>1</strong> Domain
                    </li>
                    <li>
                      <strong>10 GB</strong> Disk Space
                    </li>
                    <li>
                      <strong>50 GB</strong> Bandwith
                    </li>
                    <li>
                      <strong>1 Free</strong> Domain
                    </li>
                    <li>
                      <strong>1 FTP</strong> Account
                    </li>
                  </ul>
                  <div class="buy-button-box">
                    <a href="#" class="buy-now">BUY NOW</a>
                  </div>        
                </div>
              </div>
        </div>
    </div>
    
  </div>
{% endblock %}