{% extends 'base/base_adminlte.html' %}
{% block title %}Art Ic Tech | Productos{%endblock %} 
{% load static %} 
{% block extra_head %}
<style>
    body {
      background-color: #eee;
    }
    .main-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    .product_detail {
        text-align: center;
    }

    .main-img img {
        border-radius: 20px;
        border: 1px solid #A3BAD2;
    }
    .article_info {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
    }
    .buttonCotizar:hover i {
        color: rgb(174, 174, 174);
    }
  </style>

  <script>
    function buttonCar(titulo) {
        Swal.fire({
        text: `¿Por qué medio le gustaría cotizar ${titulo}?`,
        icon: "success",
        showCancelButton: true,
        confirmButtonText: 'WhatsApp',
        cancelButtonText: 'Email',
        reverseButtons: true,
    }).then((result) => {
        if (result.isConfirmed) {
            // Llama a la función para WhatsApp
            cotizarPorWhatsApp(titulo);
        } else if (result.dismiss === Swal.DismissReason.cancel) {
            // Llama a la función para Email
            cotizarPorEmail(titulo);
        }
    });
    }
    // Define las funciones para cada opción
        function cotizarPorWhatsApp(titulo) {
            // Código para la opción de WhatsApp
            alert(`Cotizando por WhatsApp para: ${titulo}`);
            // Aquí puedes agregar el código para redirigir o enviar la cotización por WhatsApp
        }

        function cotizarPorEmail(titulo) {
            // Código para la opción de Email
            alert(`Cotizando por Email para: ${titulo}`);
            // Aquí puedes agregar el código para redirigir o enviar la cotización por Email
        }
  </script>
{% endblock %}

{% block content %}
  <div class="container mt-5 main-container">
    <div class="product_detail">
        <div class="main-img">
            <img src="{{producto.imagen_izquierda.url}}" alt="Category" />
        </div>
        <h3 class="mt-3">
            {{producto.nombre}}
        </h3>
        <p style="margin-top: auto;" class="text-muted">Solo por {% if producto.en_oferta == True %} <s>${{producto.precio}}</s> <strong style="color: green;">${{producto.precio_oferta}}</strong> {% else %} ${{producto.precio}}{% endif %}</p>
        <button onclick="buttonCar( `{{producto.nombre}} `)" type="button" class="btn btn-outline-danger buttonCotizar" style="width: 200px;">
            Cotizar ahora <i class="fa fa-shopping-cart"></i>
        </button>

    </div>
    {% for descripcion in descripciones %}
    <div class="col-10 article_info mt-5">
        <button onclick="buttonCar( `{{descripcion.titulo}} `)" style="float: right; background-color: white; border-radius: 5px; width: 45px;">
            <i class="fa fa-shopping-cart" style="color: red;"></i>
        </button>
        {% if descripcion.precio %}
            <strong class="mr-1" style="float: right;">{{descripcion.precio}} $</strong>
        {% endif %}
        <h5 style="font-weight: bold;">{{descripcion.titulo}}</h5>
        {{ descripcion.descripcion|safe }}
    </div>
    {% endfor %}
  </div>
{% endblock %}